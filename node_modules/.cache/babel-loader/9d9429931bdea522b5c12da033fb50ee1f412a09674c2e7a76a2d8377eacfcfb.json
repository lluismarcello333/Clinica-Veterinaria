{"ast":null,"code":"/* import { createSlice } from \"@reduxjs/toolkit\";\nimport { Products } from \"../../data/products\";\n\ninterface CartState {\n  cart: Products[];\n}\n\nconst initialState: CartState = {\n  cart: [],\n};\n\nexport const cartSlice = createSlice({\n  initialState,\n  name: \"cart\",\n  reducers: {\n    addProduct: (state, action) => {\n      state.cart = [...state.cart, action.payload];\n    },\n    removeProduct: (state, action) => {\n      const productToRemove = action.payload;\n      const cartFiltered = state.cart.filter(\n        (product) => product.id !== productToRemove.id\n      );\n      state.cart = cartFiltered;\n    },\n  },\n});\n\nexport const {addProduct, removeProduct} = cartSlice.actions; */\n\nimport { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cart: []\n};\nexport const cartSlice = createSlice({\n  initialState,\n  name: \"cart\",\n  reducers: {\n    addProduct: (state, action) => {\n      const productToAdd = action.payload;\n      const existingProductIndex = state.cart.findIndex(product => product.id === productToAdd.id);\n      if (existingProductIndex !== -1) {\n        // Se o produto já estiver no carrinho, incremente a quantidade\n        state.cart = state.cart.map((product, index) => {\n          if (index === existingProductIndex) {\n            return {\n              ...product,\n              quantity: (product.quantity || 0) + 1\n            };\n          }\n          return product;\n        });\n      } else {\n        // Se o produto não estiver no carrinho, adicione-o com quantidade 1\n        state.cart.push({\n          ...productToAdd,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct: (state, action) => {\n      const productToRemove = action.payload;\n      const cartFiltered = state.cart.filter(product => product.id !== productToRemove.id);\n      state.cart = cartFiltered;\n    }\n  }\n});\nexport const {\n  addProduct,\n  removeProduct\n} = cartSlice.actions;","map":{"version":3,"names":["createSlice","initialState","cart","cartSlice","name","reducers","addProduct","state","action","productToAdd","payload","existingProductIndex","findIndex","product","id","map","index","quantity","push","removeProduct","productToRemove","cartFiltered","filter","actions"],"sources":["/home/luiz/Documentos/Jobs/Veterinaria/veterinaria/src/redux/Cart/cart-slice.ts"],"sourcesContent":["/* import { createSlice } from \"@reduxjs/toolkit\";\nimport { Products } from \"../../data/products\";\n\ninterface CartState {\n  cart: Products[];\n}\n\nconst initialState: CartState = {\n  cart: [],\n};\n\nexport const cartSlice = createSlice({\n  initialState,\n  name: \"cart\",\n  reducers: {\n    addProduct: (state, action) => {\n      state.cart = [...state.cart, action.payload];\n    },\n    removeProduct: (state, action) => {\n      const productToRemove = action.payload;\n      const cartFiltered = state.cart.filter(\n        (product) => product.id !== productToRemove.id\n      );\n      state.cart = cartFiltered;\n    },\n  },\n});\n\nexport const {addProduct, removeProduct} = cartSlice.actions; */\n\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { Products } from \"../../data/articlesData\";\n\ninterface CartState {\n  cart: Products[];\n}\n\nconst initialState: CartState = {\n  cart: [],\n};\n\nexport const cartSlice = createSlice({\n  initialState,\n  name: \"cart\",\n  reducers: {\n    addProduct: (state, action) => {\n      const productToAdd = action.payload;\n      const existingProductIndex = state.cart.findIndex(\n        (product) => product.id === productToAdd.id\n      );\n\n      if (existingProductIndex !== -1) {\n        // Se o produto já estiver no carrinho, incremente a quantidade\n        state.cart = state.cart.map((product, index) => {\n          if (index === existingProductIndex) {\n            return { ...product, quantity: (product.quantity || 0) + 1 };\n          }\n          return product;\n        });\n      } else {\n        // Se o produto não estiver no carrinho, adicione-o com quantidade 1\n        state.cart.push({ ...productToAdd, quantity: 1 });\n      }\n    },\n    removeProduct: (state, action) => {\n      const productToRemove = action.payload;\n      const cartFiltered = state.cart.filter(\n        (product) => product.id !== productToRemove.id\n      );\n      state.cart = cartFiltered;\n    },\n  },\n});\n\nexport const { addProduct, removeProduct } = cartSlice.actions;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,WAAW,QAAQ,kBAAkB;AAO9C,MAAMC,YAAuB,GAAG;EAC9BC,IAAI,EAAE;AACR,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGH,WAAW,CAAC;EACnCC,YAAY;EACZG,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE;IACRC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7B,MAAMC,YAAY,GAAGD,MAAM,CAACE,OAAO;MACnC,MAAMC,oBAAoB,GAAGJ,KAAK,CAACL,IAAI,CAACU,SAAS,CAC9CC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKL,YAAY,CAACK,EAC3C,CAAC;MAED,IAAIH,oBAAoB,KAAK,CAAC,CAAC,EAAE;QAC/B;QACAJ,KAAK,CAACL,IAAI,GAAGK,KAAK,CAACL,IAAI,CAACa,GAAG,CAAC,CAACF,OAAO,EAAEG,KAAK,KAAK;UAC9C,IAAIA,KAAK,KAAKL,oBAAoB,EAAE;YAClC,OAAO;cAAE,GAAGE,OAAO;cAAEI,QAAQ,EAAE,CAACJ,OAAO,CAACI,QAAQ,IAAI,CAAC,IAAI;YAAE,CAAC;UAC9D;UACA,OAAOJ,OAAO;QAChB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL;QACAN,KAAK,CAACL,IAAI,CAACgB,IAAI,CAAC;UAAE,GAAGT,YAAY;UAAEQ,QAAQ,EAAE;QAAE,CAAC,CAAC;MACnD;IACF,CAAC;IACDE,aAAa,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMY,eAAe,GAAGZ,MAAM,CAACE,OAAO;MACtC,MAAMW,YAAY,GAAGd,KAAK,CAACL,IAAI,CAACoB,MAAM,CACnCT,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKM,eAAe,CAACN,EAC9C,CAAC;MACDP,KAAK,CAACL,IAAI,GAAGmB,YAAY;IAC3B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEf,UAAU;EAAEa;AAAc,CAAC,GAAGhB,SAAS,CAACoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}